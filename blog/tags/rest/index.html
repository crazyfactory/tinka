<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Posts tagged &quot;rest&quot; | Tinka</title><meta data-react-helmet="true" property="og:title" content="Posts tagged &quot;rest&quot; | Tinka"><meta data-react-helmet="true" name="description" content="Blog | Tagged &quot;rest&quot;"><meta data-react-helmet="true" property="og:description" content="Blog | Tagged &quot;rest&quot;"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/tinka/img/favicon.ico"><link rel="stylesheet" href="/tinka/styles.bec579e4.css">
<link rel="preload" href="/tinka/styles.0ebdd4a7.js" as="script">
<link rel="preload" href="/tinka/runtime~main.bd50b57b.js" as="script">
<link rel="preload" href="/tinka/main.c9fbe22d.js" as="script">
<link rel="preload" href="/tinka/1.dc0b9a50.js" as="script">
<link rel="preload" href="/tinka/2.01271dc7.js" as="script">
<link rel="preload" href="/tinka/3.119dcb4a.js" as="script">
<link rel="preload" href="/tinka/6875c492.ba5592ff.js" as="script">
<link rel="preload" href="/tinka/110e00fe.9278de63.js" as="script">
<link rel="preload" href="/tinka/53026c17.c0c1620b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/tinka/"><img class="navbar__logo" src="/tinka/img/logo.svg" alt="Tinka Logo"><strong class="navbar__title">Tinka</strong></a><a class="navbar__item navbar__link" href="/tinka/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tinka/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/crazyfactory/tinka" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/tinka/"><img class="navbar__logo" src="/tinka/img/logo.svg" alt="Tinka Logo"><strong class="navbar__title">Tinka</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/tinka/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/tinka/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/crazyfactory/tinka" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><main class="col col--8 col--offset-2"><h1>1 post tagged with &quot;rest&quot;</h1><a href="/tinka/blog/tags">View All Tags</a><div class="margin-vert--xl"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_1mse"><a href="/tinka/blog/hello-world-welcome-tinka">Hello world, welcome Tinka</a></h2><div class="margin-vert--md"><time datetime="2020-10-14T00:00:00.000Z" class="blogPostDate_3bQP">October 14, 2020  Â· 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/cyberhck" target="_blank" rel="noreferrer noopener"><img src="https://avatars1.githubusercontent.com/u/3640284?v=4" alt="Nishchal Gautam"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/cyberhck" target="_blank" rel="noreferrer noopener">Nishchal Gautam</a></h4><small class="avatar__subtitle">Managing Complexity in code (Software Engineering)</small></div></div></header><section class="markdown"><p>Hello world, I&#x27;m introducing tinka to the mix.</p><p>Few years ago <a href="https://github.com/wmathes">@wmathes</a> asked me to find a http client which was similar to aurelia http client (this was before angularjs)</p><p>I did a lot of research and found axios, and a few others whose name weren&#x27;t even heard of.</p><p>At that point, axios didn&#x27;t include any type definitions, it didn&#x27;t have middleware functionality, basically the set of requirements I was given simply wasn&#x27;t done by axios (I don&#x27;t think it still does).</p><p>After not finding anything worth it&#x27;s salt, we decided to roll our own: <code>tinka</code>, it&#x27;s fetch http client, which has no dependency (really, check out <a href="https://github.com/crazyfactory/tinka/blob/master/package.json">package.json</a>) and would be as close to fetch as we could possibly make.</p><p>The best decision for <code>tinka</code> was to make middleware it&#x27;s first class citizen, literally everything&#x27;s a middleware (the part of code which makes the actual fetch call, is also a middleware)</p><p>I&#x27;ve been using tinka for a long time now, and I must say it&#x27;s been great so far. Because the way middleware works, it&#x27;s made my development so easy.</p><p>Adding response time, doing refresh tokens on expired jwt, automatically adding jwt to all requests etc are all done through this middleware.</p><p>Last time I checked, axios now has middleware support I think it&#x27;s called interceptors. And here&#x27;s what it looks like</p><pre><code class="language-typescript">axios.interceptors.request.use(function (config) {
    // Do something before request is sent
    console.log(config);
    return config;
  }, function (error) {
    // Do something with request error
    return Promise.reject(error);
  });
axios.interceptors.response.use(function (response) {
    // Do something with response data
    return response;
  }, function (error) {
    // Do something with response error
    return Promise.reject(error);
  });
</code></pre><p>My first problem would be, how do I log time taken for a particular request to my server for analytics purpose, monitoring SLAs etc, (remember, you can&#x27;t only measure response time on server side, you must also do it on client side)</p><p>Here&#x27;s how you do it with tinka:</p><pre><code class="language-typescript">import {IMiddleware} from &quot;../Stack&quot;;
import {IFetchRequest, IFetchResponse} from &quot;./FetchMiddleware&quot;;

export class LogResponseTime implements IMiddleware&lt;IFetchRequest, Promise&lt;IFetchResponse&lt;any&gt;&gt;&gt; {
    public async process(options: IFetchRequest, next: (nextOptions: IFetchRequest) =&gt; Promise&lt;IFetchResponse&lt;any&gt;&gt;): Promise&lt;IFetchResponse&lt;any&gt;&gt; {
        const start = performance.now();
        const response = await next(options);
        const timeTaken = performance.now() - start;
        // push time taken to localStorage and serviceWorker will send it to our servers
        return response;
    }
}
</code></pre><p>Tinka shines when Sdk is provided for a while API with all types, the perfect setup would be to have a npm package which you install when you want to consume a particular API.</p><p>You can also look at a usage example here: <a href="https://github.com/fossapps/Feature.Manager.Ui/tree/master/src/Sdk">https://github.com/fossapps/Feature.Manager.Ui/tree/master/src/Sdk</a></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/tinka/blog/tags/api">API</a><a class="margin-horiz--sm" href="/tinka/blog/tags/sdk">SDK</a><a class="margin-horiz--sm" href="/tinka/blog/tags/swagger">Swagger</a><a class="margin-horiz--sm" href="/tinka/blog/tags/tinka">Tinka</a><a class="margin-horiz--sm" href="/tinka/blog/tags/rest">REST</a><a class="margin-horiz--sm" href="/tinka/blog/tags/swagger">Swagger</a></div><div class="col text--right"><a aria-label="Read more about Hello world, welcome Tinka" href="/tinka/blog/hello-world-welcome-tinka"><strong>Read More</strong></a></div></footer></article></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/tinka/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/tinka/docs/middlewares/fetch">Middlewares</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/tinka/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/crazyfactory/tinka" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 tinka. Built with Docusaurus.</div></div></div></footer></div>
<script src="/tinka/styles.0ebdd4a7.js"></script>
<script src="/tinka/runtime~main.bd50b57b.js"></script>
<script src="/tinka/main.c9fbe22d.js"></script>
<script src="/tinka/1.dc0b9a50.js"></script>
<script src="/tinka/2.01271dc7.js"></script>
<script src="/tinka/3.119dcb4a.js"></script>
<script src="/tinka/6875c492.ba5592ff.js"></script>
<script src="/tinka/110e00fe.9278de63.js"></script>
<script src="/tinka/53026c17.c0c1620b.js"></script>
</body>
</html>